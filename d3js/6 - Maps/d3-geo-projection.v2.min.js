// https://d3js.org/d3-geo-projection/ v2.4.1 Copyright 2018 Mike Bostock
!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("d3-geo"),require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-geo","d3-array"],r):r(n.d3=n.d3||{},n.d3,n.d3)}(this,function(n,r,e){"use strict";var t=Math.abs,o=Math.atan,i=Math.atan2,u=Math.cos,a=Math.exp,c=Math.floor,l=Math.log,f=Math.max,g=Math.min,v=Math.pow,s=Math.round,p=Math.sign||function(n){return n>0?1:n<0?-1:0},h=Math.sin,d=Math.tan,w=1e-6,y=1e-12,m=Math.PI,P=m/2,R=m/4,b=Math.SQRT1_2,j=G(2),M=G(m),E=2*m,A=180/m,S=m/180;function k(n){return n>1?P:n<-1?-P:Math.asin(n)}function x(n){return n>1?0:n<-1?m:Math.acos(n)}function G(n){return n>0?Math.sqrt(n):0}function C(n){return(a(n)-a(-n))/2}function z(n){return(a(n)+a(-n))/2}function F(n){var r=d(n/2),e=2*l(u(n/2))/(r*r);function o(n,r){var t=u(n),o=u(r),i=h(r),a=o*t,c=-((1-a?l((1+a)/2)/(1-a):-.5)+e/(1+a));return[c*o*h(n),c*i]}return o.invert=function(r,o){var a,c=G(r*r+o*o),f=-n/2,g=50;if(!c)return[0,0];do{var v=f/2,s=u(v),p=h(v),y=d(v),m=l(1/s);f-=a=(2/y*m-e*y-c)/(-m/(p*p)+1-e/(2*s*s))}while(t(a)>w&&--g>0);var P=h(f);return[i(r*P,c*u(f)),k(o*P/c)]},o}function N(n,r){var e=u(r),t=function(n){return n?n/Math.sin(n):1}(x(e*u(n/=2)));return[2*e*h(n)*t,h(r)*t]}function L(n){var r=h(n),e=u(n),o=n>=0?1:-1,a=d(o*n),c=(1+r-e)/2;function l(n,t){var l=u(t),f=u(n/=2);return[(1+l)*h(n),(o*t>-i(f,a)-.001?0:10*-o)+c+h(t)*e-(1+l)*r*f]}return l.invert=function(n,l){var f=0,g=0,v=50;do{var s=u(f),p=h(f),d=u(g),y=h(g),m=1+d,P=m*p-n,R=c+y*e-m*r*s-l,b=m*s/2,j=-p*y,M=r*m*p/2,E=e*d+r*s*y,A=j*M-E*b,S=(R*j-P*E)/A/2,k=(P*M-R*b)/A;f-=S,g-=k}while((t(S)>w||t(k)>w)&&--v>0);return o*g>-i(u(f),a)-.001?[2*f,g]:null},l}function q(n,r){var e=d(r/2),t=G(1-e*e),o=1+t*u(n/=2),i=h(n)*t/o,a=e/o,c=i*i,l=a*a;return[4/3*i*(3+c-3*l),4/3*a*(3+3*c-l)]}N.invert=function(n,r){if(!(n*n+4*r*r>m*m+w)){var e=n,o=r,i=25;do{var a,c=h(e),l=h(e/2),f=u(e/2),g=h(o),v=u(o),s=h(2*o),p=g*g,d=v*v,y=l*l,P=1-d*f*f,R=P?x(v*f)*G(a=1/P):a=0,b=2*R*v*l-n,j=R*g-r,M=a*(d*y+R*v*f*p),E=a*(.5*c*s-2*R*g*l),A=.25*a*(s*l-R*g*d*c),S=a*(p*f+R*y*v),k=E*A-S*M;if(!k)break;var C=(j*E-b*S)/k,z=(b*A-j*M)/k;e-=C,o-=z}while((t(C)>w||t(z)>w)&&--i>0);return[e,o]}},q.invert=function(n,r){if(r*=3/8,!(n*=3/8)&&t(r)>1)return null;var e=1+n*n+r*r,o=G((e-G(e*e-4*r*r))/2),a=k(o)/3,c=o?function(n){return l(n+G(n*n-1))}(t(r/o))/3:function(n){return l(n+G(n*n+1))}(t(n))/3,f=u(a),g=z(c),v=g*g-f*f;return[2*p(n)*i(C(c)*f,.25-v),2*p(r)*i(g*h(a),.25+v)]};var B=G(8),H=l(1+j);function I(n,r){var e=t(r);return e<R?[n,l(d(R+r/2))]:[n*u(e)*(2*j-1/h(e)),p(r)*(2*j*(e-R)-l(d(e/2)))]}function W(n){var e=2*m/n;function a(n,o){var a=r.geoAzimuthalEquidistantRaw(n,o);if(t(n)>P){var c=i(a[1],a[0]),l=G(a[0]*a[0]+a[1]*a[1]),f=e*s((c-P)/e)+P,g=i(h(c-=f),2-u(c));c=f+k(m/l*h(g))-g,a[0]=l*u(c),a[1]=l*h(c)}return a}return a.invert=function(n,t){var a=G(n*n+t*t);if(a>P){var c=i(t,n),l=e*s((c-P)/e)+P,f=c>l?-1:1,g=a*u(l-c),v=1/d(f*x((g-m)/G(m*(m-2*g)+a*a)));c=l+2*o((v+f*G(v*v-3))/3),n=a*u(c),t=a*h(c)}return r.geoAzimuthalEquidistantRaw.invert(n,t)},a}function D(n,e){if(arguments.length<2&&(e=n),1===e)return r.geoAzimuthalEqualAreaRaw;if(e===1/0)return T;function t(t,o){var i=r.geoAzimuthalEqualAreaRaw(t/e,o);return i[0]*=n,i}return t.invert=function(t,o){var i=r.geoAzimuthalEqualAreaRaw.invert(t/n,o);return i[0]*=e,i},t}function T(n,r){return[n*u(r)/u(r/=2),2*h(r)]}function Q(){var n=D(1.68,2);return function(r,e){if(r+e<-1.4){var t=(r-e+1.6)*(r+e+1.4)/8;r+=t,e-=.8*t*h(e+m/2)}var o=n(r,e),i=(1-u(r*e))/12;return o[1]<0&&(o[0]*=1+i),o[1]>0&&(o[1]*=1+i/1.5*o[0]*o[0]),o}}function V(n,r){var e,o=n*h(r),i=30;do{r-=e=(r+h(r)-o)/(1+u(r))}while(t(e)>w&&--i>0);return r/2}function _(n,r,e){function t(t,o){return[n*t*u(o=V(e,o)),r*h(o)]}return t.invert=function(t,o){return o=k(o/r),[t/(n*u(o)),k((2*o+h(2*o))/e)]},t}I.invert=function(n,r){if((i=t(r))<H)return[n,2*o(a(r))-P];var e,i,c=R,f=25;do{var g=u(c/2),v=d(c/2);c-=e=(B*(c-R)-l(v)-i)/(B-g*g/(2*v))}while(t(e)>y&&--f>0);return[n/(u(c)*(B-1/h(c))),p(r)*c]},T.invert=function(n,r){var e=2*k(r/2);return[n*u(e/2)/u(e),e]};var K=_(j/P,j,m);var O=2.00276,U=1.11072;function J(n,r){var e=V(m,r);return[O*n/(1/u(r)+U/u(e)),(r+j*h(e))/O]}function X(n){var e=0,t=r.geoProjectionMutator(n),o=t(e);return o.parallel=function(n){return arguments.length?t(e=n*S):e*A},o}function Y(n,r){return[n*u(r),r]}function Z(n){if(!n)return Y;var r=1/d(n);function e(e,t){var o=r+n-t,i=o?e*u(t)/o:o;return[o*h(i),r-o*u(i)]}return e.invert=function(e,t){var o=G(e*e+(t=r-t)*t),a=r+n-o;return[o/u(a)*i(e,t),a]},e}function $(n){function r(r,e){var t=P-e,o=t?r*n*h(t)/t:t;return[t*h(o)/n,P-t*u(o)]}return r.invert=function(r,e){var t=r*n,o=P-e,u=G(t*t+o*o),a=i(t,o);return[(u?u/h(u):1)*a/n,P-u]},r}J.invert=function(n,r){var e,o,i=O*r,a=r<0?-R:R,c=25;do{o=i-j*h(a),a-=e=(h(2*a)+2*a-m*h(o))/(2*u(2*a)+2+m*u(o)*j*u(a))}while(t(e)>w&&--c>0);return o=i-j*h(a),[n*(1/u(o)+U/u(a))/O,o]},Y.invert=function(n,r){return[n/u(r),r]};var nn=_(1,4/m,m);function rn(n,r,e,o,a,c){var l,f=u(c);if(t(n)>1||t(c)>1)l=x(e*a+r*o*f);else{var g=h(n/2),v=h(c/2);l=2*k(G(g*g+r*o*v*v))}return t(l)>w?[l,i(o*h(c),r*a-e*o*f)]:[0,0]}function en(n,r,e){return x((n*n+r*r-e*e)/(2*n*r))}function tn(n){return n-2*m*c((n+m)/(2*m))}function on(n,r,e){for(var t,o=[[n[0],n[1],h(n[1]),u(n[1])],[r[0],r[1],h(r[1]),u(r[1])],[e[0],e[1],h(e[1]),u(e[1])]],i=o[2],a=0;a<3;++a,i=t)t=o[a],i.v=rn(t[1]-i[1],i[3],i[2],t[3],t[2],t[0]-i[0]),i.point=[0,0];var c=en(o[0].v[0],o[2].v[0],o[1].v[0]),l=en(o[0].v[0],o[1].v[0],o[2].v[0]),f=m-c;o[2].point[1]=0,o[0].point[0]=-(o[1].point[0]=o[0].v[0]/2);var g=[o[2].point[0]=o[0].point[0]+o[2].v[0]*u(c),2*(o[0].point[1]=o[1].point[1]=o[2].v[0]*h(c))];return function(n,r){var e,t=h(r),i=u(r),a=new Array(3);for(e=0;e<3;++e){var c=o[e];if(a[e]=rn(r-c[1],c[3],c[2],i,t,n-c[0]),!a[e][0])return c.point;a[e][1]=tn(a[e][1]-c.v[1])}var v=g.slice();for(e=0;e<3;++e){var s=2==e?0:e+1,p=en(o[e].v[0],a[e][0],a[s][0]);a[e][1]<0&&(p=-p),e?1==e?(p=l-p,v[0]-=a[e][0]*u(p),v[1]-=a[e][0]*h(p)):(p=f-p,v[0]+=a[e][0]*u(p),v[1]+=a[e][0]*h(p)):(v[0]+=a[e][0]*u(p),v[1]-=a[e][0]*h(p))}return v[0]/=3,v[1]/=3,v}}function un(n){return n[0]*=S,n[1]*=S,n}function an(n,e,t){var o=r.geoCentroid({type:"MultiPoint",coordinates:[n,e,t]}),i=[-o[0],-o[1]],u=r.geoRotation(i),a=r.geoProjection(on(un(u(n)),un(u(e)),un(u(t)))).rotate(i),c=a.center;return delete a.rotate,a.center=function(n){return arguments.length?c(u(n)):u.invert(c())},a.clipAngle(90)}function cn(n,r){var e=G(1-h(r));return[2/M*n*e,M*(1-e)]}function ln(n){var r=d(n);function e(n,e){return[n,(n?n/h(n):1)*(h(e)*u(n)-r*u(e))]}return e.invert=r?function(n,e){n&&(e*=h(n)/n);var t=u(n);return[n,2*i(G(t*t+r*r-e*e)-t,r-e)]}:function(n,r){return[n,k(n?r*d(n)/n:r)]},e}cn.invert=function(n,r){var e=(e=r/M-1)*e;return[e>0?n*G(m/e)/2:0,k(1-e)]};var fn=G(3);function gn(n,r){return[fn*n*(2*u(2*r/3)-1)/M,fn*M*h(r/3)]}function vn(n){var r=u(n);function e(n,e){return[n*r,h(e)/r]}return e.invert=function(n,e){return[n/r,k(e*r)]},e}function sn(n){var r=u(n);function e(n,e){return[n*r,(1+r)*d(e/2)]}return e.invert=function(n,e){return[n/r,2*o(e/(1+r))]},e}function pn(n,r){var e=G(8/(3*m));return[e*n*(1-t(r)/m),e*r]}function hn(n,r){var e=G(4-3*h(t(r)));return[2/G(6*m)*n*e,p(r)*G(2*m/3)*(2-e)]}function dn(n,r){var e=G(m*(4+m));return[2/e*n*(1+G(1-4*r*r/(m*m))),4/e*r]}function wn(n,r){var e=(2+P)*h(r);r/=2;for(var o=0,i=1/0;o<10&&t(i)>w;o++){var a=u(r);r-=i=(r+h(r)*(a+2)-e)/(2*a*(1+a))}return[2/G(m*(4+m))*n*(1+u(r)),2*G(m/(4+m))*h(r)]}function yn(n,r){return[n*(1+u(r))/G(2+m),2*r/G(2+m)]}function mn(n,r){for(var e=(1+P)*h(r),o=0,i=1/0;o<10&&t(i)>w;o++)r-=i=(r+h(r)-e)/(1+u(r));return e=G(2+m),[n*(1+u(r))/e,2*r/e]}gn.invert=function(n,r){var e=3*k(r/(fn*M));return[M*n/(fn*(2*u(2*e/3)-1)),e]},pn.invert=function(n,r){var e=G(8/(3*m)),o=r/e;return[n/(e*(1-t(o)/m)),o]},hn.invert=function(n,r){var e=2-t(r)/G(2*m/3);return[n*G(6*m)/(2*e),p(r)*k((4-e*e)/3)]},dn.invert=function(n,r){var e=G(m*(4+m))/2;return[n*e/(1+G(1-r*r*(4+m)/(4*m))),r*e/2]},wn.invert=function(n,r){var e=r*G((4+m)/m)/2,t=k(e),o=u(t);return[n/(2/G(m*(4+m))*(1+o)),k((t+e*(o+2))/(2+P))]},yn.invert=function(n,r){var e=G(2+m),t=r*e/2;return[e*n/(1+u(t)),t]},mn.invert=function(n,r){var e=1+P,t=G(e/2);return[2*n*t/(1+u(r*=t)),k((r+h(r))/e)]};var Pn=3+2*j;function Rn(n,r){var e=h(n/=2),t=u(n),i=G(u(r)),a=u(r/=2),c=h(r)/(a+j*t*i),f=G(2/(1+c*c)),g=G((j*a+(t+e)*i)/(j*a+(t-e)*i));return[Pn*(f*(g-1/g)-2*l(g)),Pn*(f*c*(g+1/g)-2*o(c))]}Rn.invert=function(n,r){if(!(e=q.invert(n/1.2,1.065*r)))return null;var e,i=e[0],a=e[1],c=20;n/=Pn,r/=Pn;do{var v=i/2,s=a/2,p=h(v),d=u(v),y=h(s),m=u(s),R=u(a),M=G(R),E=y/(m+j*d*M),A=E*E,S=G(2/(1+A)),k=(j*m+(d+p)*M)/(j*m+(d-p)*M),x=G(k),C=x-1/x,z=x+1/x,F=S*C-2*l(x)-n,N=S*E*z-2*o(E)-r,L=y&&b*M*p*A/y,B=(j*d*m+M)/(2*(m+j*d*M)*(m+j*d*M)*M),H=-.5*E*S*S*S,I=H*L,W=H*B,D=(D=2*m+j*M*(d-p))*D*x,T=(j*d*m*M+R)/D,Q=-j*p*y/(M*D),V=C*I-2*T/x+S*(T+T/k),_=C*W-2*Q/x+S*(Q+Q/k),K=E*z*I-2*L/(1+A)+S*z*L+S*E*(T-T/k),O=E*z*W-2*B/(1+A)+S*z*B+S*E*(Q-Q/k),U=_*K-O*V;if(!U)break;var J=(N*_-F*O)/U,X=(F*K-N*V)/U;i-=J,a=f(-P,g(P,a-X))}while((t(J)>w||t(X)>w)&&--c>0);return t(t(a)-P)<w?[0,a]:c&&[i,a]};var bn=u(35*S);function jn(n,r){var e=d(r/2);return[n*bn*G(1-e*e),(1+bn)*e]}function Mn(n,r){var e=r/2,t=u(e);return[2*n/M*u(r)*t*t,M*d(e)]}function En(n){return[n[0]/2,k(d(n[1]/2*S))*A]}function An(n){return[2*n[0],2*o(h(n[1]*S))*A]}function Sn(n,e){var o=2*m/e,a=n*n;function c(e,c){var l=r.geoAzimuthalEquidistantRaw(e,c),f=l[0],g=l[1],v=f*f+g*g;if(v>a){var p=G(v),d=i(g,f),y=o*s(d/o),R=d-y,b=n*u(R),j=(n*h(R)-R*h(b))/(P-b),M=kn(R,j),E=(m-n)/xn(M,b,m);f=p;var A,S=50;do{f-=A=(n+xn(M,b,f)*E-p)/(M(f)*E)}while(t(A)>w&&--S>0);g=R*h(f),f<P&&(g-=j*(f-P));var k=h(y),x=u(y);l[0]=f*x-g*k,l[1]=f*k+g*x}return l}return c.invert=function(e,c){var l=e*e+c*c;if(l>a){var f=G(l),g=i(c,e),v=o*s(g/o),p=g-v;e=f*u(p),c=f*h(p);for(var d=e-P,w=h(e),R=c/w,b=e<P?1/0:0,j=10;;){var M=n*h(R),E=n*u(R),A=h(E),S=P-E,k=(M-R*A)/S,x=kn(R,k);if(t(b)<y||!--j)break;R-=b=(R*w-k*d-c)/(w-2*d*(S*(E+R*M*u(E)-A)-M*(M-R*A))/(S*S))}e=(f=n+xn(x,E,e)*(m-n)/xn(x,E,m))*u(g=v+R),c=f*h(g)}return r.geoAzimuthalEquidistantRaw.invert(e,c)},c}function kn(n,r){return function(e){var t=n*u(e);return e<P&&(t-=r),G(1+t*t)}}function xn(n,r,e){for(var t=(e-r)/50,o=n(r)+n(e),i=1,u=r;i<50;++i)o+=2*n(u+=t);return.5*o*t}function Gn(n,r,e,o,i,a,c,l){function f(t,f){if(!f)return[n*t/m,0];var g=f*f,v=n+g*(r+g*(e+g*o)),s=f*(i-1+g*(a-l+g*c)),p=(v*v+s*s)/(2*s),d=t*k(v/p)/m;return[p*h(d),f*(1+g*l)+p*(1-u(d))]}return arguments.length<8&&(l=0),f.invert=function(f,g){var v,s,p=m*f/n,d=g,y=50;do{var P=d*d,R=n+P*(r+P*(e+P*o)),b=d*(i-1+P*(a-l+P*c)),j=R*R+b*b,M=2*b,E=j/M,A=E*E,S=k(R/E)/m,x=p*S,C=R*R,z=(2*r+P*(4*e+6*P*o))*d,F=i+P*(3*a+5*P*c),N=(2*(R*z+b*(F-1))*M-j*(2*(F-1)))/(M*M),L=u(x),q=h(x),B=E*L,H=E*q,I=p/m*(1/G(1-C/A))*(z*E-R*N)/A,W=H-f,D=d*(1+P*l)+E-B-g,T=N*q+B*I,Q=B*S,V=1+N-(N*L-H*I),_=H*S,K=T*_-V*Q;if(!K)break;p-=v=(D*T-W*V)/K,d-=s=(W*_-D*Q)/K}while((t(v)>w||t(s)>w)&&--y>0);return[p,d]},f}jn.invert=function(n,r){var e=r/(1+bn);return[n&&n/(bn*G(1-e*e)),2*o(e)]},Mn.invert=function(n,r){var e=o(r/M),t=u(e),i=2*e;return[n*M/2/(u(i)*t*t),i]};var Cn=Gn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);var zn=Gn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);var Fn=Gn(5/6*m,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Nn(n,r){var e=n*n,t=r*r;return[n*(1-.162388*t)*(.87-952426e-9*e*e),r*(1+t/12)]}Nn.invert=function(n,r){var e,o=n,i=r,u=50;do{var a=i*i;i-=e=(i*(1+a/12)-r)/(1+a/4)}while(t(e)>w&&--u>0);u=50,n/=1-.162388*a;do{var c=(c=o*o)*c;o-=e=(o*(.87-952426e-9*c)-n)/(.87-.00476213*c)}while(t(e)>w&&--u>0);return[o,i]};var Ln=Gn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function qn(n){var r=n(P,0)[0]-n(-P,0)[0];function e(e,t){var o=e>0?-.5:.5,i=n(e+o*m,t);return i[0]-=o*r,i}return n.invert&&(e.invert=function(e,t){var o=e>0?-.5:.5,i=n.invert(e+o*r,t),u=i[0]-o*m;return u<-m?u+=2*m:u>m&&(u-=2*m),i[0]=u,i}),e}function Bn(n,r){var e=p(n),o=p(r),a=u(r),c=u(n)*a,l=h(n)*a,f=h(o*r);n=t(i(l,f)),r=k(c),t(n-P)>w&&(n%=P);var g=function(n,r){if(r===P)return[0,0];var e,o,i=h(r),a=i*i,c=a*a,l=1+c,f=1+3*c,g=1-c,v=k(1/G(l)),s=g+a*l*v,p=(1-i)/s,d=G(p),y=p*l,R=G(y),b=d*g;if(0===n)return[0,-(b+a*R)];var j,M=u(r),E=1/M,A=2*i*M,S=(-s*M-(-3*a+v*f)*A*(1-i))/(s*s),x=-E*A,C=-E*(a*l*S+p*f*A),z=-2*E*(g*(.5*S/d)-2*a*d*A),F=4*n/m;if(n>.222*m||r<m/4&&n>.175*m){if(e=(b+a*G(y*(1+c)-b*b))/(1+c),n>m/4)return[e,e];var N=e,L=.5*e;e=.5*(L+N),o=50;do{var q=G(y-e*e),B=e*(z+x*q)+C*k(e/R)-F;if(!B)break;B<0?L=e:N=e,e=.5*(L+N)}while(t(N-L)>w&&--o>0)}else{e=w,o=25;do{var H=e*e,I=G(y-H),W=z+x*I,D=e*W+C*k(e/R)-F,T=W+(C-x*H)/I;e-=j=I?D/T:0}while(t(j)>w&&--o>0)}return[e,-b-a*G(y-e*e)]}(n>m/4?P-n:n,r);return n>m/4&&(f=g[0],g[0]=-g[1],g[1]=-f),g[0]*=e,g[1]*=-o,g}function Hn(n,r){var e,i,c,l,f,g;if(r<w)return[(l=h(n))-(e=r*(n-l*(i=u(n)))/4)*i,i+e*l,1-r*l*l/2,n-e];if(r>=1-w)return e=(1-r)/4,c=1/(i=z(n)),[(l=((g=a(2*(g=n)))-1)/(g+1))+e*((f=i*C(n))-n)/(i*i),c-e*l*c*(f-n),c+e*l*c*(f+n),2*o(a(n))-P+e*(f-n)/i];var v=[1,0,0,0,0,0,0,0,0],s=[G(r),0,0,0,0,0,0,0,0],p=0;for(i=G(1-r),f=1;t(s[p]/v[p])>w&&p<8;)e=v[p++],s[p]=(e-i)/2,v[p]=(e+i)/2,i=G(e*i),f*=2;c=f*v[p]*n;do{c=(k(l=s[p]*h(i=c)/v[p])+c)/2}while(--p);return[h(c),l=u(c),l/u(c-i),c]}function In(n,r){if(!r)return n;if(1===r)return l(d(n/2+R));for(var e=1,i=G(1-r),u=G(r),a=0;t(u)>w;a++){if(n%m){var c=o(i*d(n)/e);c<0&&(c+=m),n+=c+~~(n/m)*m}else n+=n;u=(e+i)/2,i=G(e*i),u=((e=u)-i)/2}return n/(v(2,a)*e)}function Wn(n,r){var e=(j-1)/(j+1),c=G(1-e*e),f=In(P,c*c),g=l(d(m/4+t(r)/2)),v=a(-1*g)/G(e),s=function(n,r){var e=n*n,t=r+1,o=1-e-r*r;return[.5*((n>=0?P:-P)-i(o,2*n)),-.25*l(o*o+4*e)+.5*l(t*t+e)]}(v*u(-1*n),v*h(-1*n)),w=function(n,r,e){var i=t(n),u=C(t(r));if(i){var a=1/h(i),c=1/(d(i)*d(i)),l=-(c+e*(u*u*a*a)-1+e),f=(-l+G(l*l-(e-1)*c*4))/2;return[In(o(1/G(f)),e)*p(n),In(o(G((f/c-1)/e)),1-e)*p(r)]}return[0,In(o(u),1-e)*p(r)]}(s[0],s[1],c*c);return[-w[1],(r>=0?1:-1)*(.5*f-w[0])]}function Dn(n){var r=h(n),e=u(n),o=Tn(n);function a(n,i){var a=o(n,i);n=a[0],i=a[1];var c=h(i),l=u(i),f=u(n),g=x(r*c+e*l*f),v=h(g),s=t(v)>w?g/v:1;return[s*e*h(n),(t(n)>P?s:-s)*(r*l-e*c*f)]}return o.invert=Tn(-n),a.invert=function(n,e){var t=G(n*n+e*e),a=-h(t),c=u(t),l=t*c,f=-e*a,g=t*r,v=G(l*l+f*f-g*g),s=i(l*g+f*v,f*g-l*v),p=(t>P?-1:1)*i(n*a,t*u(s)*c+e*h(s)*a);return o.invert(p,s)},a}function Tn(n){var r=h(n),e=u(n);return function(n,t){var o=u(t),a=u(n)*o,c=h(n)*o,l=h(t);return[i(c,a*e-l*r),k(l*e+a*r)]}}Bn.invert=function(n,r){t(n)>1&&(n=2*p(n)-n),t(r)>1&&(r=2*p(r)-r);var e=p(n),o=p(r),a=-e*n,c=-o*r,l=c/a<1,f=function(n,r){var e=0,o=1,i=.5,a=50;for(;;){var c=i*i,l=G(i),f=k(1/G(1+c)),g=1-c+i*(1+c)*f,v=(1-l)/g,s=G(v),p=v*(1+c),h=s*(1-c),d=p-n*n,w=G(d),P=r+h+i*w;if(t(o-e)<y||0==--a||0===P)break;P>0?e=i:o=i,i=.5*(e+o)}if(!a)return null;var R=k(l),b=u(R),j=1/b,M=2*l*b,E=(-g*b-(-3*i+f*(1+3*c))*M*(1-l))/(g*g);return[m/4*(n*(-2*j*(.5*E/s*(1-c)-2*i*s*M)+-j*M*w)+-j*(i*(1+c)*E+v*(1+3*c)*M)*k(n/G(p))),R]}(l?c:a,l?a:c),g=f[0],v=f[1],s=u(v);return l&&(g=-P-g),[e*(i(h(g)*s,-h(v))+m),o*k(u(g)*s)]},Wn.invert=function(n,r){var e,t,u,c,f,g,v=(j-1)/(j+1),s=G(1-v*v),p=In(P,s*s),h=(t=-n,u=s*s,(e=.5*p-r)?(c=Hn(e,u),t?(g=(f=Hn(t,1-u))[1]*f[1]+u*c[0]*c[0]*f[0]*f[0],[[c[0]*f[2]/g,c[1]*c[2]*f[0]*f[1]/g],[c[1]*f[1]/g,-c[0]*c[2]*f[0]*f[2]/g],[c[2]*f[1]*f[2]/g,-u*c[0]*c[1]*f[0]/g]]):[[c[0],0],[c[1],0],[c[2],0]]):[[0,(f=Hn(t,1-u))[0]/f[1]],[1/f[1],0],[f[2]/f[1],0]]),d=function(n,r){var e=r[0]*r[0]+r[1]*r[1];return[(n[0]*r[0]+n[1]*r[1])/e,(n[1]*r[0]-n[0]*r[1])/e]}(h[0],h[1]);return[i(d[1],d[0])/-1,2*o(a(-.5*l(v*d[0]*d[0]+v*d[1]*d[1])))-P]};var Qn=41+48/36+37/3600,Vn=vn(0);function _n(n){var r=Qn*S,e=cn(m,r)[0]-cn(-m,r)[0],o=Vn(0,r)[1],i=cn(0,r)[1],u=M-i,a=E/n,l=4/E,v=o+u*u*4/E;function s(s,p){var h,d=t(p);if(d>r){var w=g(n-1,f(0,c((s+m)/a)));(h=cn(s+=m*(n-1)/n-w*a,d))[0]=h[0]*E/e-E*(n-1)/(2*n)+w*E/n,h[1]=o+4*(h[1]-i)*u/E,p<0&&(h[1]=-h[1])}else h=Vn(s,p);return h[0]*=l,h[1]/=v,h}return s.invert=function(r,s){r/=l;var p=t(s*=v);if(p>o){var h=g(n-1,f(0,c((r+m)/a)));r=(r+m*(n-1)/n-h*a)*e/E;var d=cn.invert(r,.25*(p-o)*E/u+i);return d[0]-=m*(n-1)/n-h*a,s<0&&(d[1]=-d[1]),d}return Vn.invert(r,s)},s}function Kn(n){var r,e=1+n,o=k(h(1/e)),a=2*G(m/(r=m+4*o*e)),c=.5*a*(e+G(n*(2+n))),l=n*n,f=e*e;function g(g,v){var s,p,d=1-h(v);if(d&&d<2){var w,R=P-v,b=25;do{var j=h(R),M=u(R),E=o+i(j,e-M),A=1+f-2*e*M;R-=w=(R-l*o-e*j+A*E-.5*d*r)/(2*e*j*E)}while(t(w)>y&&--b>0);s=a*G(A),p=g*E/m}else s=a*(n+d),p=g*o/m;return[s*h(p),c-s*u(p)]}return g.invert=function(n,t){var u=n*n+(t-=c)*t,g=(1+f-u/(a*a))/(2*e),v=x(g),s=h(v),p=o+i(s,e-g);return[k(n/G(u))*m/p,k(1-2*(v-l*o-e*s+(1+f-2*e*g)*p)/r)]},g}var On=.7109889596207567,Un=.0528035274542;function Jn(n,r){return r>-On?((n=K(n,r))[1]+=Un,n):Y(n,r)}function Xn(n,r){return t(r)>On?((n=K(n,r))[1]-=r>0?Un:-Un,n):Y(n,r)}function Yn(n,r,e,t,o){void 0===t&&(t=1e-8),void 0===o&&(o=20);var i=n(r),u=n(.5*(r+e)),a=n(e);return function n(r,e,t,o,i,u,a,c,l,f,g){if(g.nanEncountered)return NaN;var v,s,p,h,d,w,y,m,P,R;if(s=r(e+.25*(v=t-e)),p=r(t-.25*v),isNaN(s))g.nanEncountered=!0;else{if(!isNaN(p))return R=((w=(h=v*(o+4*s+i)/12)+(d=v*(i+4*p+u)/12))-a)/15,f>l?(g.maxDepthCount++,w+R):Math.abs(R)<c?w+R:(m=n(r,e,y=e+.5*v,o,s,i,h,.5*c,l,f+1,g),isNaN(m)?(g.nanEncountered=!0,NaN):(P=n(r,y,t,i,p,u,d,.5*c,l,f+1,g),isNaN(P)?(g.nanEncountered=!0,NaN):m+P));g.nanEncountered=!0}}(n,r,e,i,u,a,(i+4*u+a)*(e-r)/6,t,o,1,{maxDepthCount:0,nanEncountered:!1})}function Zn(n,r,e){function o(e){return n+(1-n)*v(1-v(e,r),1/r)}function i(n){return Yn(o,0,n,1e-4)}for(var u=1/i(1),a=1e3,c=(1+1e-8)*u,l=[],f=0;f<=a;f++)l.push(i(f/a)*c);function g(n){var r=0,e=a,t=a>>1;do{l[t]>n?e=t:r=t,t=r+e>>1}while(t>r);var o=l[t+1]-l[t];return o&&(o=(n-l[t+1])/o),(t+1+o)/a}var s=2*g(1)/m*u/e,d=function(n,r){var e=g(t(h(r))),i=o(e)*n;return e/=s,[i,r>=0?e:-e]};return d.invert=function(n,r){var e;return t(r*=s)<1&&(e=p(r)*k(i(t(r))*u)),[n/o(t(r)),e]},d}function $n(n,r){return t(n[0]-r[0])<w&&t(n[1]-r[1])<w}function nr(n,r){for(var e,t,o,i=-1,u=n.length,a=n[0],c=[];++i<u;){t=((e=n[i])[0]-a[0])/r,o=(e[1]-a[1])/r;for(var l=0;l<r;++l)c.push([a[0]+l*t,a[1]+l*o]);a=e}return c.push(e),c}function rr(n,t){var o,i;function u(r,e){for(var o=e<0?-1:1,i=t[+(e<0)],u=0,a=i.length-1;u<a&&r>i[u][2][0];++u);var c=n(r-i[u][1][0],e);return c[0]+=n(i[u][1][0],o*e>o*i[u][0][1]?i[u][0][1]:e)[0],c}n.invert&&(u.invert=function(r,e){for(var o=i[+(e<0)],a=t[+(e<0)],c=0,l=o.length;c<l;++c){var f=o[c];if(f[0][0]<=r&&r<f[1][0]&&f[0][1]<=e&&e<f[1][1]){var g=n.invert(r-n(a[c][1][0],0)[0],e);return g[0]+=a[c][1][0],$n(u(g[0],g[1]),[r,e])?g:null}}});var a=r.geoProjection(u),c=a.stream;return a.stream=function(n){var e=a.rotate(),t=c(n),i=(a.rotate([0,0]),c(n));return a.rotate(e),t.sphere=function(){r.geoStream(o,i)},t},a.lobes=function(r){return arguments.length?(o=function(n){var r,t,o,i,u,a,c,l=[],f=n[0].length;for(c=0;c<f;++c)t=(r=n[0][c])[0][0],o=r[0][1],i=r[1][1],u=r[2][0],a=r[2][1],l.push(nr([[t+w,o+w],[t+w,i-w],[u-w,i-w],[u-w,a+w]],30));for(c=n[1].length-1;c>=0;--c)t=(r=n[1][c])[0][0],o=r[0][1],i=r[1][1],u=r[2][0],a=r[2][1],l.push(nr([[u-w,a-w],[u-w,i+w],[t+w,i+w],[t+w,o-w]],30));return{type:"Polygon",coordinates:[e.merge(l)]}}(r),t=r.map(function(n){return n.map(function(n){return[[n[0][0]*S,n[0][1]*S],[n[1][0]*S,n[1][1]*S],[n[2][0]*S,n[2][1]*S]]})}),i=t.map(function(r){return r.map(function(r){var e,t=n(r[0][0],r[0][1])[0],o=n(r[2][0],r[2][1])[0],i=n(r[1][0],r[0][1])[1],u=n(r[1][0],r[1][1])[1];return i>u&&(e=i,i=u,u=e),[[t,i],[o,u]]})}),a):t.map(function(n){return n.map(function(n){return[[n[0][0]*A,n[0][1]*A],[n[1][0]*A,n[1][1]*A],[n[2][0]*A,n[2][1]*A]]})})},null!=t&&a.lobes(t),a}Jn.invert=function(n,r){return r>-On?K.invert(n,r-Un):Y.invert(n,r)},Xn.invert=function(n,r){return t(r)>On?K.invert(n,r+(r>0?Un:-Un)):Y.invert(n,r)};var er=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var tr=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var or=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ir=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];var ur=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];var ar=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function cr(n,r){return[3/E*n*G(m*m/3-r*r),r]}function lr(n){function r(r,e){if(t(t(e)-P)<w)return[0,e<0?-2:2];var o=h(e),i=v((1+o)/(1-o),n/2),a=.5*(i+1/i)+u(r*=n);return[2*h(r)/a,(i-1/i)/a]}return r.invert=function(r,e){var o=t(e);if(t(o-2)<w)return r?null:[0,p(e)*P];if(o>2)return null;var u=(r/=2)*r,a=(e/=2)*e,c=2*e/(1+u+a);return c=v((1+c)/(1-c),1/n),[i(2*r,1-u-a)/n,k((c-1)/(c+1))]},r}cr.invert=function(n,r){return[E/3*n/G(m*m/3-r*r),r]};var fr=m/j;function gr(n,r){return[n*(1+G(u(r)))/2,r/(u(r/2)*u(n/6))]}function vr(n,r){var e=n*n,t=r*r;return[n*(.975534+t*(-.0143059*e-.119161+-.0547009*t)),r*(1.00384+e*(.0802894+-.02855*t+199025e-9*e)+t*(.0998909+-.0491032*t))]}function sr(n,r){return[h(n)/u(r),d(r)*u(n)]}function pr(n){var r=u(n),e=d(R+n/2);function o(o,i){var u=i-n,a=t(u)<w?o*r:t(a=R+i/2)<w||t(t(a)-P)<w?0:o*u/l(d(a)/e);return[a,u]}return o.invert=function(o,i){var u,a=i+n;return[t(i)<w?o/r:t(u=R+a/2)<w||t(t(u)-P)<w?0:o*l(d(u)/e)/i,a]},o}function hr(n,r){return[n,1.25*l(d(R+.4*r))]}function dr(n){var r=n.length-1;function e(e,t){for(var o,i=u(t),a=2/(1+i*u(e)),c=a*i*h(e),l=a*h(t),f=r,g=n[f],v=g[0],s=g[1];--f>=0;)v=(g=n[f])[0]+c*(o=v)-l*s,s=g[1]+c*s+l*o;return[v=c*(o=v)-l*s,s=c*s+l*o]}return e.invert=function(e,a){var c=20,l=e,f=a;do{for(var g,v=r,s=n[v],p=s[0],d=s[1],y=0,m=0;--v>=0;)y=p+l*(g=y)-f*m,m=d+l*m+f*g,p=(s=n[v])[0]+l*(g=p)-f*d,d=s[1]+l*d+f*g;var P,R,b=(y=p+l*(g=y)-f*m)*y+(m=d+l*m+f*g)*m;l-=P=((p=l*(g=p)-f*d-e)*y+(d=l*d+f*g-a)*m)/b,f-=R=(d*y-p*m)/b}while(t(P)+t(R)>w*w&&--c>0);if(c){var j=G(l*l+f*f),M=2*o(.5*j),E=h(M);return[i(l*E,j*u(M)),j?k(f*E/j):0]}},e}gr.invert=function(n,r){var e=t(n),o=t(r),i=w,a=P;o<fr?a*=o/fr:i+=6*x(fr/o);for(var c=0;c<25;c++){var l=h(a),f=G(u(a)),g=h(a/2),v=u(a/2),s=h(i/6),p=u(i/6),d=.5*i*(1+f)-e,y=a/(v*p)-o,m=f?-.25*i*l/f:0,R=.5*(1+f),b=(1+.5*a*g/v)/(v*p),j=a/v*(s/6)/(p*p),M=m*j-b*R,E=(d*j-y*R)/M,A=(y*m-d*b)/M;if(a-=E,i-=A,t(E)<w&&t(A)<w)break}return[n<0?-i:i,r<0?-a:a]},vr.invert=function(n,r){var e=p(n)*m,o=r/2,i=50;do{var u=e*e,a=o*o,c=e*o,l=e*(.975534+a*(-.0143059*u-.119161+-.0547009*a))-n,f=o*(1.00384+u*(.0802894+-.02855*a+199025e-9*u)+a*(.0998909+-.0491032*a))-r,g=.975534-a*(.119161+3*u*.0143059+.0547009*a),v=-c*(.238322+.2188036*a+.0286118*u),s=c*(.1605788+7961e-7*u+-.0571*a),h=1.00384+u*(.0802894+199025e-9*u)+a*(3*(.0998909-.02855*u)-.245516*a),d=v*s-h*g,y=(f*v-l*h)/d,P=(l*s-f*g)/d;e-=y,o-=P}while((t(y)>w||t(P)>w)&&--i>0);return i&&[e,o]},sr.invert=function(n,r){var e=n*n,t=r*r+1,o=e+t,i=n?b*G((o-G(o*o-4*e))/e):1/G(t);return[k(n*i),p(r)*x(i)]},hr.invert=function(n,r){return[n,2.5*o(a(.8*r))-.625*m]};var wr=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],yr=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],mr=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Pr=[[.9245,0],[0,0],[.01943,0]],Rr=[[.721316,0],[0,0],[-.00881625,-.00617325]];function br(n,e){var t=r.geoProjection(dr(n)).rotate(e).clipAngle(90),o=r.geoRotation(e),i=t.center;return delete t.rotate,t.center=function(n){return arguments.length?i(o(n)):o.invert(i())},t}var jr=G(6),Mr=G(7);function Er(n,r){var e=k(7*h(r)/(3*jr));return[jr*n*(2*u(2*e/3)-1)/Mr,9*h(e/3)/Mr]}function Ar(n,r){for(var e,o=(1+b)*h(r),i=r,a=0;a<25&&(i-=e=(h(i/2)+h(i)-o)/(.5*u(i/2)+u(i)),!(t(e)<w));a++);return[n*(1+2*u(i)/u(i/2))/(3*j),2*G(3)*h(i/2)/G(2+j)]}function Sr(n,r){for(var e,o=G(6/(4+m)),i=(1+m/4)*h(r),a=r/2,c=0;c<25&&(a-=e=(a/2+h(a)-i)/(.5+u(a)),!(t(e)<w));c++);return[o*(.5+u(a))*n/1.5,o*a]}function kr(n,r){var e=r*r,t=e*e,o=e*t;return[n*(.84719-.13063*e+o*o*(.05494*e-.04515-.02326*t+.00331*o)),r*(1.01183+t*t*(.01926*e-.02625-.00396*t))]}function xr(n,r){return[n*(1+u(r))/2,2*(r-d(r/2))]}Er.invert=function(n,r){var e=3*k(r*Mr/9);return[n*Mr/(jr*(2*u(2*e/3)-1)),k(3*h(e)*jr/7)]},Ar.invert=function(n,r){var e=r*G(2+j)/(2*G(3)),t=2*k(e);return[3*j*n/(1+2*u(t)/u(t/2)),k((e+h(t))/(1+b))]},Sr.invert=function(n,r){var e=G(6/(4+m)),o=r/e;return t(t(o)-P)<w&&(o=o<0?-P:P),[1.5*n/(e*(.5+u(o))),k((o/2+h(o))/(1+m/4))]},kr.invert=function(n,r){var e,o,i,u,a=r,c=25;do{a-=e=(a*(1.01183+(i=(o=a*a)*o)*i*(.01926*o-.02625-.00396*i))-r)/(1.01183+i*i*(.21186*o-.23625+-.05148*i))}while(t(e)>y&&--c>0);return[n/(.84719-.13063*(o=a*a)+(u=o*(i=o*o))*u*(.05494*o-.04515-.02326*i+.00331*u)),a]},xr.invert=function(n,r){for(var e=r/2,o=0,i=1/0;o<10&&t(i)>w;++o){var a=u(r/2);r-=i=(r-d(r/2)-e)/(1-.5/(a*a))}return[2*n/(1+u(r)),r]};var Gr=1.0148,Cr=.23185,zr=-.14499,Fr=.02406,Nr=Gr,Lr=5*Cr,qr=7*zr,Br=9*Fr;function Hr(n,r){var e=r*r;return[n,r*(Gr+e*e*(Cr+e*(zr+Fr*e)))]}function Ir(n,r){if(t(r)<w)return[n,0];var e=d(r),o=n*h(r);return[h(o)/e,r+(1-u(o))/e]}function Wr(n,r){var e=Tr(n[1],n[0]),t=Tr(r[1],r[0]),o=function(n,r){return i(n[0]*r[1]-n[1]*r[0],n[0]*r[0]+n[1]*r[1])}(e,t),a=Qr(e)/Qr(t);return Dr([1,0,n[0][0],0,1,n[0][1]],Dr([a,0,0,0,a,0],Dr([u(o),h(o),0,-h(o),u(o),0],[1,0,-r[0][0],0,1,-r[0][1]])))}function Dr(n,r){return[n[0]*r[0]+n[1]*r[3],n[0]*r[1]+n[1]*r[4],n[0]*r[2]+n[1]*r[5]+n[2],n[3]*r[0]+n[4]*r[3],n[3]*r[1]+n[4]*r[4],n[3]*r[2]+n[4]*r[5]+n[5]]}function Tr(n,r){return[n[0]-r[0],n[1]-r[1]]}function Qr(n){return G(n[0]*n[0]+n[1]*n[1])}function Vr(n,e,o){function i(n,r){var t,o=e(n,r),i=o.project([n*A,r*A]);return(t=o.transform)?[t[0]*i[0]+t[1]*i[1]+t[2],-(t[3]*i[0]+t[4]*i[1]+t[5])]:(i[1]=-i[1],i)}!function n(r,e){r.edges=function(n){for(var r=n.length,e=[],t=n[r-1],o=0;o<r;++o)e.push([t,t=n[o]]);return e}(r.face);if(e.face){var t=r.shared=function(n,r){for(var e,t,o=n.length,i=null,u=0;u<o;++u){e=n[u];for(var a=r.length;--a>=0;)if(t=r[a],e[0]===t[0]&&e[1]===t[1]){if(i)return[i,e];i=e}}}(r.face,e.face),o=Wr(t.map(e.project),t.map(r.project));r.transform=e.transform?Dr(e.transform,o):o;for(var i=e.edges,u=0,a=i.length;u<a;++u)_r(t[0],i[u][1])&&_r(t[1],i[u][0])&&(i[u]=r),_r(t[0],i[u][0])&&_r(t[1],i[u][1])&&(i[u]=r);for(i=r.edges,u=0,a=i.length;u<a;++u)_r(t[0],i[u][0])&&_r(t[1],i[u][1])&&(i[u]=e),_r(t[0],i[u][1])&&_r(t[1],i[u][0])&&(i[u]=e)}else r.transform=e.transform;r.children&&r.children.forEach(function(e){n(e,r)});return r}(n,{transform:null}),Kr(n)&&(i.invert=function(r,t){var o=function n(r,t){var o=r.project.invert,i=r.transform,u=t;i&&(c=1/((a=i)[0]*a[4]-a[1]*a[3]),i=[c*a[4],-c*a[1],c*(a[1]*a[5]-a[2]*a[4]),-c*a[3],c*a[0],c*(a[2]*a[3]-a[0]*a[5])],u=[i[0]*u[0]+i[1]*u[1]+i[2],i[3]*u[0]+i[4]*u[1]+i[5]]);var a,c;if(o&&r===function(n){return e(n[0]*S,n[1]*S)}(l=o(u)))return l;var l,f=r.children;for(var g=0,v=f&&f.length;g<v;++g)if(l=n(f[g],t))return l}(n,[r,-t]);return o&&(o[0]*=S,o[1]*=S,o)});var u=r.geoProjection(i),a=u.stream;return u.stream=function(e){var o=u.rotate(),i=a(e),c=(u.rotate([0,0]),a(e));return u.rotate(o),i.sphere=function(){c.polygonStart(),c.lineStart(),function n(e,o,i){var u,a,c=o.edges,l=c.length,f={type:"MultiPoint",coordinates:o.face},g=o.face.filter(function(n){return 90!==t(n[1])}),v=r.geoBounds({type:"MultiPoint",coordinates:g}),s=!1,p=-1,h=v[1][0]-v[0][0];var d=180===h||360===h?[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]:r.geoCentroid(f);if(i)for(;++p<l&&c[p]!==i;);++p;for(var y=0;y<l;++y)a=c[(y+p)%l],Array.isArray(a)?(s||(e.point((u=r.geoInterpolate(a[0],d)(w))[0],u[1]),s=!0),e.point((u=r.geoInterpolate(a[1],d)(w))[0],u[1])):(s=!1,a!==i&&n(e,a,o))}(c,n),c.lineEnd(),c.polygonEnd()},i},u.angle(null==o?-30:o*A)}function _r(n,r){return n&&r&&n[0]===r[0]&&n[1]===r[1]}function Kr(n){return n.project.invert||n.children&&n.children.some(Kr)}Hr.invert=function(n,r){r>1.790857183?r=1.790857183:r<-1.790857183&&(r=-1.790857183);var e,o=r;do{var i=o*o;o-=e=(o*(Gr+i*i*(Cr+i*(zr+Fr*i)))-r)/(Nr+i*i*(Lr+i*(qr+Br*i)))}while(t(e)>w);return[n,o]},Ir.invert=function(n,r){if(t(r)<w)return[n,0];var e,o=n*n+r*r,i=.5*r,a=10;do{var c=d(i),l=1/u(i),f=o-2*r*i+i*i;i-=e=(c*f+2*(i-r))/(2+f*l*l+2*(i-r)*c)}while(t(e)>w&&--a>0);return c=d(i),[(t(r)<t(i+1/c)?k(n*c):p(n)*(x(t(n*c))+P))/h(i),i]};var Or=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ur=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(n){return n.map(function(n){return Or[n]})});var Jr=2/G(3);function Xr(n,r){var e=cn(n,r);return[e[0]*Jr,e[1]]}function Yr(n,r){for(var e=0,t=n.length,o=0;e<t;++e)o+=n[e]*r[e];return o}function Zr(n){return[i(n[1],n[0])*A,k(f(-1,g(1,n[2])))*A]}function $r(n){var r=n[0]*S,e=n[1]*S,t=u(e);return[t*u(r),t*h(r),h(e)]}function ne(){}function re(n,r){return{type:"FeatureCollection",features:n.features.map(function(n){return ee(n,r)})}}function ee(n,r){return{type:"Feature",id:n.id,properties:n.properties,geometry:te(n.geometry,r)}}function te(n,e){if(!n)return null;if("GeometryCollection"===n.type)return function(n,r){return{type:"GeometryCollection",geometries:n.geometries.map(function(n){return te(n,r)})}}(n,e);var t;switch(n.type){case"Point":case"MultiPoint":t=ue;break;case"LineString":case"MultiLineString":t=ae;break;case"Polygon":case"MultiPolygon":case"Sphere":t=ce;break;default:return null}return r.geoStream(n,e(t)),t.result()}Xr.invert=function(n,r){return cn.invert(n/Jr,r)};var oe=[],ie=[],ue={point:function(n,r){oe.push([n,r])},result:function(){var n=oe.length?oe.length<2?{type:"Point",coordinates:oe[0]}:{type:"MultiPoint",coordinates:oe}:null;return oe=[],n}},ae={lineStart:ne,point:function(n,r){oe.push([n,r])},lineEnd:function(){oe.length&&(ie.push(oe),oe=[])},result:function(){var n=ie.length?ie.length<2?{type:"LineString",coordinates:ie[0]}:{type:"MultiLineString",coordinates:ie}:null;return ie=[],n}},ce={polygonStart:ne,lineStart:ne,point:function(n,r){oe.push([n,r])},lineEnd:function(){var n=oe.length;if(n){do{oe.push(oe[0].slice())}while(++n<4);ie.push(oe),oe=[]}},polygonEnd:ne,result:function(){if(!ie.length)return null;var n=[],r=[];return ie.forEach(function(e){!function(n){if((r=n.length)<4)return!1;for(var r,e=0,t=n[r-1][1]*n[0][0]-n[r-1][0]*n[0][1];++e<r;)t+=n[e-1][1]*n[e][0]-n[e-1][0]*n[e][1];return t<=0}(e)?r.push(e):n.push([e])}),r.forEach(function(r){var e=r[0];n.some(function(n){if(function(n,r){for(var e=r[0],t=r[1],o=!1,i=0,u=n.length,a=u-1;i<u;a=i++){var c=n[i],l=c[0],f=c[1],g=n[a],v=g[0],s=g[1];f>t^s>t&&e<(v-l)*(t-f)/(s-f)+l&&(o=!o)}return o}(n[0],e))return n.push(r),!0})||n.push([r])}),ie=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function le(n){var e=n(P,0)[0]-n(-P,0)[0];function o(r,o){var i=t(r)<P,u=n(i?r:r>0?r-m:r+m,o),a=(u[0]-u[1])*b,c=(u[0]+u[1])*b;if(i)return[a,c];var l=e*b,f=a>0^c>0?-1:1;return[f*a-p(c)*l,f*c-p(a)*l]}return n.invert&&(o.invert=function(r,o){var i=(r+o)*b,u=(o-r)*b,a=t(i)<.5*e&&t(u)<.5*e;if(!a){var c=e*b,l=i>0^u>0?-1:1,f=-l*r+(u>0?1:-1)*c,g=-l*o+(i>0?1:-1)*c;i=(-f-g)*b,u=(f-g)*b}var v=n.invert(i,u);return a||(v[0]+=i>0?m:-m),v}),r.geoProjection(o).rotate([-90,-90,45]).clipAngle(179.999)}function fe(){return le(Wn).scale(111.48)}function ge(n){var r=h(n);function e(e,t){var i=r?d(e*r/2)/r:e/2;if(!t)return[2*i,-n];var a=2*o(i*h(t)),c=1/d(t);return[h(a)*c,t+(1-u(a))*c-n]}return e.invert=function(e,i){if(t(i+=n)<w)return[r?2*o(r*e/2)/r:e,0];var a,c=e*e+i*i,l=0,f=10;do{var g=d(l),v=1/u(l),s=c-2*i*l+l*l;l-=a=(g*s+2*(l-i))/(2+s*v*v+2*(l-i)*g)}while(t(a)>w&&--f>0);var p=e*(g=d(l)),y=d(t(i)<t(l+1/g)?.5*k(p):.5*x(p)+m/4)/h(l);return[r?2*o(r*y)/r:2*y,l]},e}var ve=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function se(n,r){var e,o=g(18,36*t(r)/m),i=c(o),u=o-i,a=(e=ve[i])[0],l=e[1],f=(e=ve[++i])[0],v=e[1],s=(e=ve[g(19,++i)])[0],p=e[1];return[n*(f+u*(s-a)/2+u*u*(s-2*f+a)/2),(r>0?P:-P)*(v+u*(p-l)/2+u*u*(p-2*v+l)/2)]}function pe(n,r){var e=function(n){function r(r,e){var t=u(e),o=(n-1)/(n-t*u(r));return[o*t*h(r),o*h(e)]}return r.invert=function(r,e){var t=r*r+e*e,o=G(t),u=(n-G(1-t*(n+1)/(n-1)))/((n-1)/o+o/(n-1));return[i(r*u,o*G(1-u*u)),o?k(e*u/o):0]},r}(n);if(!r)return e;var t=u(r),o=h(r);function a(r,i){var u=e(r,i),a=u[1],c=a*o/(n-1)+t;return[u[0]*t/c,a/c]}return a.invert=function(r,i){var u=(n-1)/(n-1-i*o);return e.invert(u*r,u*i*t)},a}ve.forEach(function(n){n[1]*=1.0144}),se.invert=function(n,r){var e=r/P,o=90*e,i=g(18,t(o/5)),u=f(0,c(i));do{var a=ve[u][1],l=ve[u+1][1],v=ve[g(19,u+2)][1],s=v-a,p=v-2*l+a,h=2*(t(e)-l)/s,d=p/s,w=h*(1-d*h*(1-2*d*h));if(w>=0||1===u){o=(r>=0?5:-5)*(w+i);var m,R=50;do{w=(i=g(18,t(o)/5))-(u=c(i)),a=ve[u][1],l=ve[u+1][1],v=ve[g(19,u+2)][1],o-=(m=(r>=0?P:-P)*(l+w*(v-a)/2+w*w*(v-2*l+a)/2)-r)*A}while(t(m)>y&&--R>0);break}}while(--u>=0);var b=ve[u][0],j=ve[u+1][0],M=ve[g(19,u+2)][0];return[n/(j+w*(M-b)/2+w*w*(M-2*j+b)/2),o*S]};var he=1e4,de=-180,we=de+1e-4,ye=180,me=ye-1e-4,Pe=-90,Re=Pe+1e-4,be=90,je=be-1e-4;function Me(n){return n.length>0}function Ee(n){return n===Pe||n===be?[0,n]:[de,(r=n,Math.floor(r*he)/he)];var r}function Ae(n){var r=n[0],e=n[1],t=!1;return r<=we?(r=de,t=!0):r>=me&&(r=ye,t=!0),e<=Re?(e=Pe,t=!0):e>=je&&(e=be,t=!0),t?[r,e]:n}function Se(n){return n.map(Ae)}function ke(n,r,e){for(var t=0,o=n.length;t<o;++t){var i=n[t].slice();e.push({index:-1,polygon:r,ring:i});for(var u=0,a=i.length;u<a;++u){var c=i[u],l=c[0],f=c[1];if(l<=we||l>=me||f<=Re||f>=je){i[u]=Ae(c);for(var g=u+1;g<a;++g){var v=i[g],s=v[0],p=v[1];if(s>we&&s<me&&p>Re&&p<je)break}if(g===u+1)continue;if(u){var h={index:-1,polygon:r,ring:i.slice(0,u+1)};h.ring[h.ring.length-1]=Ee(f),e[e.length-1]=h}else e.pop();if(g>=a)break;e.push({index:-1,polygon:r,ring:i=i.slice(g-1)}),i[0]=Ee(i[0][1]),u=-1,a=i.length}}}}function xe(n){var r,e,t,o,i,u,a=n.length,c={},l={};for(r=0;r<a;++r)t=(e=n[r]).ring[0],i=e.ring[e.ring.length-1],t[0]!==i[0]||t[1]!==i[1]?(e.index=r,c[t]=l[i]=e):(e.polygon.push(e.ring),n[r]=null);for(r=0;r<a;++r)if(e=n[r]){if(t=e.ring[0],i=e.ring[e.ring.length-1],o=l[t],u=c[i],delete c[t],delete l[i],t[0]===i[0]&&t[1]===i[1]){e.polygon.push(e.ring);continue}o?(delete l[t],delete c[o.ring[0]],o.ring.pop(),n[o.index]=null,e={index:-1,polygon:o.polygon,ring:o.ring.concat(e.ring)},o===u?e.polygon.push(e.ring):(e.index=a++,n.push(c[e.ring[0]]=l[e.ring[e.ring.length-1]]=e))):u?(delete c[i],delete l[u.ring[u.ring.length-1]],e.ring.pop(),e={index:a++,polygon:u.polygon,ring:e.ring.concat(u.ring)},n[u.index]=null,n.push(c[e.ring[0]]=l[e.ring[e.ring.length-1]]=e)):(e.ring.push(e.ring[0]),e.polygon.push(e.ring))}}function Ge(n){var r={type:"Feature",geometry:Ce(n.geometry)};return null!=n.id&&(r.id=n.id),null!=n.bbox&&(r.bbox=n.bbox),null!=n.properties&&(r.properties=n.properties),r}function Ce(n){if(null==n)return n;var r,e,t,o;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(Ce)};break;case"Point":r={type:"Point",coordinates:Ae(n.coordinates)};break;case"MultiPoint":case"LineString":r={type:n.type,coordinates:Se(n.coordinates)};break;case"MultiLineString":r={type:"MultiLineString",coordinates:n.coordinates.map(Se)};break;case"Polygon":var i=[];ke(n.coordinates,i,e=[]),xe(e),r={type:"Polygon",coordinates:i};break;case"MultiPolygon":e=[],t=-1,o=n.coordinates.length;for(var u=new Array(o);++t<o;)ke(n.coordinates[t],u[t]=[],e);xe(e),r={type:"MultiPolygon",coordinates:u.filter(Me)};break;default:return n}return null!=n.bbox&&(r.bbox=n.bbox),r}function ze(n,r){var e=d(r/2),t=h(R*e);return[n*(.74482-.34588*t*t),1.70711*e]}function Fe(n,e,t){var o=r.geoInterpolate(e,t),i=o(.5),u=r.geoRotation([-i[0],-i[1]])(e),a=o.distance/2,c=-k(h(u[1]*S)/h(a)),l=[-i[0],-i[1],-(u[0]>0?m-c:c)*A],f=r.geoProjection(n(a)).rotate(l),g=r.geoRotation(l),v=f.center;return delete f.rotate,f.center=function(n){return arguments.length?v(g(n)):g.invert(v())},f.clipAngle(90)}function Ne(n){var e=u(n);function t(n,t){var o=r.geoGnomonicRaw(n,t);return o[0]*=e,o}return t.invert=function(n,t){return r.geoGnomonicRaw.invert(n/e,t)},t}function Le(n,r){return Fe(Ne,n,r)}function qe(n){if(!(n*=2))return r.geoAzimuthalEquidistantRaw;var e=-n/2,t=-e,o=n*n,a=d(t),c=.5/h(t);function l(r,i){var a=x(u(i)*u(r-e)),c=x(u(i)*u(r-t));return[((a*=a)-(c*=c))/(2*n),(i<0?-1:1)*G(4*o*c-(o-a+c)*(o-a+c))/(2*n)]}return l.invert=function(n,r){var o,l,f=r*r,g=u(G(f+(o=n+e)*o)),v=u(G(f+(o=n+t)*o));return[i(l=g-v,o=(g+v)*a),(r<0?-1:1)*x(G(o*o+l*l)*c)]},l}function Be(n,r){return Fe(qe,n,r)}function He(n,r){if(t(r)<w)return[n,0];var e=t(r/P),o=k(e);if(t(n)<w||t(t(r)-P)<w)return[0,p(r)*m*d(o/2)];var i=u(o),a=t(m/n-n/m)/2,c=a*a,l=i/(e+i-1),f=l*(2/e-1),g=f*f,v=g+c,s=l-g,h=c+l;return[p(n)*m*(a*s+G(c*s*s-v*(l*l-g)))/v,p(r)*m*(f*h-a*G((c+1)*v-h*h))/v]}function Ie(n,r){if(t(r)<w)return[n,0];var e=t(r/P),o=k(e);if(t(n)<w||t(t(r)-P)<w)return[0,p(r)*m*d(o/2)];var i=u(o),a=t(m/n-n/m)/2,c=a*a,l=i*(G(1+c)-a*i)/(1+c*e*e);return[p(n)*m*l,p(r)*m*G(1-l*(2*a+l))]}function We(n,r){if(t(r)<w)return[n,0];var e=r/P,o=k(e);if(t(n)<w||t(t(r)-P)<w)return[0,m*d(o/2)];var i=(m/n-n/m)/2,a=e/(1+u(o));return[m*(p(n)*G(i*i+1-a*a)-i),m*a]}function De(n,r){if(!r)return[n,0];var e=t(r);if(!n||e===P)return[0,r];var o=e/P,i=o*o,u=(8*o-i*(i+2)-5)/(2*i*(o-1)),a=u*u,c=o*u,l=i+a+2*c,f=o+3*u,g=n/P,v=g+1/g,s=p(t(n)-P)*G(v*v-4),h=s*s,d=(s*(l+a-1)+2*G(l*(i+a*h-1)+(1-i)*(i*(f*f+4*a)+12*c*a+4*a*a)))/(4*l+h);return[p(n)*P*d,p(r)*P*G(1+s*t(d)-d*d)]}ze.invert=function(n,r){var e=r/1.70711,t=h(R*e);return[n/(.74482-.34588*t*t),2*o(e)]},He.invert=function(n,r){if(t(r)<w)return[n,0];if(t(n)<w)return[0,P*h(2*o(r/m))];var e=(n/=m)*n,i=(r/=m)*r,a=e+i,c=a*a,l=-t(r)*(1+a),f=l-2*i+e,g=-2*l+1+2*i+c,v=i/g+(2*f*f*f/(g*g*g)-9*l*f/(g*g))/27,s=(l-f*f/(3*g))/g,d=2*G(-s/3),y=x(3*v/(s*d))/3;return[m*(a-1+G(1+2*(e-i)+c))/(2*n),p(r)*m*(-d*u(y+m/3)-f/(3*g))]},Ie.invert=function(n,r){if(!n)return[0,P*h(2*o(r/m))];var e=t(n/m),u=(1-e*e-(r/=m)*r)/(2*e),a=G(u*u+1);return[p(n)*m*(a-u),p(r)*P*h(2*i(G((1-2*u*e)*(u+a)-e),G(a+u+e)))]},We.invert=function(n,r){if(!r)return[n,0];var e=r/m,t=(m*m*(1-e*e)-n*n)/(2*m*n);return[n?m*(p(n)*G(t*t+1)-t):0,P*h(2*o(e))]},De.invert=function(n,r){var e;if(!n||!r)return[n,r];r/=m;var o=p(n)*n/P,i=(o*o-1+4*r*r)/t(o),u=i*i,a=2*r,c=50;do{var l=a*a,f=(8*a-l*(l+2)-5)/(2*l*(a-1)),g=(3*a-l*a-10)/(2*l*a),v=f*f,s=a*f,h=a+f,d=h*h,y=a+3*f,R=-2*h*(4*s*v+(1-4*l+3*l*l)*(1+g)+v*(14*l-6-u+(8*l-8-2*u)*g)+s*(12*l-8+(10*l-10-u)*g)),b=G(d*(l+v*u-1)+(1-l)*(l*(y*y+4*v)+v*(12*s+4*v)));a-=e=(i*(d+v-1)+2*b-o*(4*d+u))/(i*(2*f*g+2*h*(1+g))+R/b-8*h*(i*(-1+v+d)+2*b)*(1+g)/(u+4*d))}while(e>w&&--c>0);return[p(n)*(G(i*i+4)+i)*m/4,P*a]};var Te=4*m+3*G(3),Qe=2*G(2*m*G(3)/Te),Ve=_(Qe*G(3)/m,Qe,Te/6);function _e(n,r){return[n*G(1-3*r*r/(m*m)),r]}function Ke(n,r){var e=.90631*h(r),t=G(1-e*e),o=G(2/(1+t*u(n/=3)));return[2.66723*t*o*h(n),1.24104*e*o]}function Oe(n,r){var e=u(r),t=u(n)*e,o=1-t,a=u(n=i(h(n)*e,-h(r))),c=h(n);return[c*(e=G(1-t*t))-a*o,-a*e-c*o]}function Ue(n,r){var e=N(n,r);return[(e[0]+n/P)/2,(e[1]+r)/2]}_e.invert=function(n,r){return[n/G(1-3*r*r/(m*m)),r]},Ke.invert=function(n,r){var e=n/2.66723,t=r/1.24104,o=G(e*e+t*t),u=2*k(o/2);return[3*i(n*d(u),2.66723*o),o&&k(r*h(u)/(1.24104*.90631*o))]},Oe.invert=function(n,r){var e=(n*n+r*r)/-2,t=G(-e*(2+e)),o=r*e+n*t,u=n*e-r*t,a=G(u*u+o*o);return[i(t*o,a*(1+e)),a?-k(t*u/a):0]},Ue.invert=function(n,r){var e=n,o=r,i=25;do{var a,c=u(o),l=h(o),f=h(2*o),g=l*l,v=c*c,s=h(e),p=u(e/2),d=h(e/2),y=d*d,m=1-v*p*p,R=m?x(c*p)*G(a=1/m):a=0,b=.5*(2*R*c*d+e/P)-n,j=.5*(R*l+o)-r,M=.5*a*(v*y+R*c*p*g)+.5/P,E=a*(s*f/4-R*l*d),A=.125*a*(f*d-R*l*v*s),S=.5*a*(g*p+R*y*c)+.5,k=E*A-S*M,C=(j*E-b*S)/k,z=(b*A-j*M)/k;e-=C,o-=z}while((t(C)>w||t(z)>w)&&--i>0);return[e,o]},n.geoNaturalEarth=r.geoNaturalEarth1,n.geoNaturalEarthRaw=r.geoNaturalEarth1Raw,n.geoAiry=function(){var n=P,e=r.geoProjectionMutator(F),t=e(n);return t.radius=function(r){return arguments.length?e(n=r*S):n*A},t.scale(179.976).clipAngle(147)},n.geoAiryRaw=F,n.geoAitoff=function(){return r.geoProjection(N).scale(152.63)},n.geoAitoffRaw=N,n.geoArmadillo=function(){var n=20*S,e=n>=0?1:-1,t=d(e*n),o=r.geoProjectionMutator(L),a=o(n),c=a.stream;return a.parallel=function(r){return arguments.length?(t=d((e=(n=r*S)>=0?1:-1)*n),o(n)):n*A},a.stream=function(r){var o=a.rotate(),l=c(r),f=(a.rotate([0,0]),c(r));return a.rotate(o),l.sphere=function(){f.polygonStart(),f.lineStart();for(var r=-180*e;e*r<180;r+=90*e)f.point(r,90*e);for(;e*(r-=n)>=-180;)f.point(r,e*-i(u(r*S/2),t)*A);f.lineEnd(),f.polygonEnd()},l},a.scale(218.695).center([0,28.0974])},n.geoArmadilloRaw=L,n.geoAugust=function(){return r.geoProjection(q).scale(66.1603)},n.geoAugustRaw=q,n.geoBaker=function(){return r.geoProjection(I).scale(112.314)},n.geoBakerRaw=I,n.geoBerghaus=function(){var n=5,e=r.geoProjectionMutator(W),t=e(n),o=t.stream,a=-u(.01*S),c=h(.01*S);return t.lobes=function(r){return arguments.length?e(n=+r):n},t.stream=function(r){var e=t.rotate(),l=o(r),f=(t.rotate([0,0]),o(r));return t.rotate(e),l.sphere=function(){f.polygonStart(),f.lineStart();for(var r=0,e=360/n,t=2*m/n,o=90-180/n,l=P;r<n;++r,o-=e,l-=t)f.point(i(c*u(l),a)*A,k(c*h(l))*A),o<-90?(f.point(-90,-180-o-.01),f.point(-90,-180-o+.01)):(f.point(90,o+.01),f.point(90,o-.01));f.lineEnd(),f.polygonEnd()},l},t.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},n.geoBerghausRaw=W,n.geoBertin1953=function(){var n=r.geoProjection(Q());return n.rotate([-16.5,-42]),delete n.rotate,n.scale(176.57).center([7.93,.09])},n.geoBertin1953Raw=Q,n.geoBoggs=function(){return r.geoProjection(J).scale(160.857)},n.geoBoggsRaw=J,n.geoBonne=function(){return X(Z).scale(123.082).center([0,26.1441]).parallel(45)},n.geoBonneRaw=Z,n.geoBottomley=function(){var n=.5,e=r.geoProjectionMutator($),t=e(n);return t.fraction=function(r){return arguments.length?e(n=+r):n},t.scale(158.837)},n.geoBottomleyRaw=$,n.geoBromley=function(){return r.geoProjection(nn).scale(152.63)},n.geoBromleyRaw=nn,n.geoChamberlin=an,n.geoChamberlinRaw=on,n.geoChamberlinAfrica=function(){return an([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},n.geoCollignon=function(){return r.geoProjection(cn).scale(95.6464).center([0,30])},n.geoCollignonRaw=cn,n.geoCraig=function(){return X(ln).scale(249.828).clipAngle(90)},n.geoCraigRaw=ln,n.geoCraster=function(){return r.geoProjection(gn).scale(156.19)},n.geoCrasterRaw=gn,n.geoCylindricalEqualArea=function(){return X(vn).parallel(38.58).scale(195.044)},n.geoCylindricalEqualAreaRaw=vn,n.geoCylindricalStereographic=function(){return X(sn).scale(124.75)},n.geoCylindricalStereographicRaw=sn,n.geoEckert1=function(){return r.geoProjection(pn).scale(165.664)},n.geoEckert1Raw=pn,n.geoEckert2=function(){return r.geoProjection(hn).scale(165.664)},n.geoEckert2Raw=hn,n.geoEckert3=function(){return r.geoProjection(dn).scale(180.739)},n.geoEckert3Raw=dn,n.geoEckert4=function(){return r.geoProjection(wn).scale(180.739)},n.geoEckert4Raw=wn,n.geoEckert5=function(){return r.geoProjection(yn).scale(173.044)},n.geoEckert5Raw=yn,n.geoEckert6=function(){return r.geoProjection(mn).scale(173.044)},n.geoEckert6Raw=mn,n.geoEisenlohr=function(){return r.geoProjection(Rn).scale(62.5271)},n.geoEisenlohrRaw=Rn,n.geoFahey=function(){return r.geoProjection(jn).scale(137.152)},n.geoFaheyRaw=jn,n.geoFoucaut=function(){return r.geoProjection(Mn).scale(135.264)},n.geoFoucautRaw=Mn,n.geoGilbert=function(n){null==n&&(n=r.geoOrthographic);var e=n(),t=r.geoEquirectangular().scale(A).precision(0).clipAngle(null).translate([0,0]);function o(n){return e(En(n))}function i(n){o[n]=function(r){return arguments.length?(e[n](r),o):e[n]()}}return e.invert&&(o.invert=function(n){return An(e.invert(n))}),o.stream=function(n){var r=e.stream(n),o=t.stream({point:function(n,e){r.point(n/2,k(d(-e/2*S))*A)},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return o.sphere=r.sphere,o},o.rotate=function(n){return arguments.length?(t.rotate(n),o):t.rotate()},o.center=function(n){return arguments.length?(e.center(En(n)),o):An(e.center())},i("angle"),i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),o.scale(249.5)},n.geoGingery=function(){var n=6,e=30*S,t=u(e),o=h(e),a=r.geoProjectionMutator(Sn),c=a(e,n),l=c.stream,f=-u(.01*S),g=h(.01*S);return c.radius=function(r){return arguments.length?(t=u(e=r*S),o=h(e),a(e,n)):e*A},c.lobes=function(r){return arguments.length?a(e,n=+r):n},c.stream=function(r){var e=c.rotate(),a=l(r),v=(c.rotate([0,0]),l(r));return c.rotate(e),a.sphere=function(){v.polygonStart(),v.lineStart();for(var r=0,e=2*m/n,a=0;r<n;++r,a-=e)v.point(i(g*u(a),f)*A,k(g*h(a))*A),v.point(i(o*u(a-e/2),t)*A,k(o*h(a-e/2))*A);v.lineEnd(),v.polygonEnd()},a},c.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},n.geoGingeryRaw=Sn,n.geoGinzburg4=function(){return r.geoProjection(Cn).scale(149.995)},n.geoGinzburg4Raw=Cn,n.geoGinzburg5=function(){return r.geoProjection(zn).scale(153.93)},n.geoGinzburg5Raw=zn,n.geoGinzburg6=function(){return r.geoProjection(Fn).scale(130.945)},n.geoGinzburg6Raw=Fn,n.geoGinzburg8=function(){return r.geoProjection(Nn).scale(131.747)},n.geoGinzburg8Raw=Nn,n.geoGinzburg9=function(){return r.geoProjection(Ln).scale(131.087)},n.geoGinzburg9Raw=Ln,n.geoGringorten=function(){return r.geoProjection(qn(Bn)).scale(239.75)},n.geoGringortenRaw=Bn,n.geoGuyou=function(){return r.geoProjection(qn(Wn)).scale(151.496)},n.geoGuyouRaw=Wn,n.geoHammer=function(){var n=2,e=r.geoProjectionMutator(D),t=e(n);return t.coefficient=function(r){return arguments.length?e(n=+r):n},t.scale(169.529)},n.geoHammerRaw=D,n.geoHammerRetroazimuthal=function(){var n=0,e=r.geoProjectionMutator(Dn),t=e(n),o=t.rotate,i=t.stream,u=r.geoCircle();return t.parallel=function(r){if(!arguments.length)return n*A;var o=t.rotate();return e(n=r*S).rotate(o)},t.rotate=function(r){return arguments.length?(o.call(t,[r[0],r[1]-n*A]),u.center([-r[0],-r[1]]),t):((r=o.call(t))[1]+=n*A,r)},t.stream=function(n){return(n=i(n)).sphere=function(){n.polygonStart();var r,e=u.radius(89.99)().coordinates[0],t=e.length-1,o=-1;for(n.lineStart();++o<t;)n.point((r=e[o])[0],r[1]);for(n.lineEnd(),t=(e=u.radius(90.01)().coordinates[0]).length-1,n.lineStart();--o>=0;)n.point((r=e[o])[0],r[1]);n.lineEnd(),n.polygonEnd()},n},t.scale(79.4187).parallel(45).clipAngle(179.999)},n.geoHammerRetroazimuthalRaw=Dn,n.geoHealpix=function(){var n=4,t=r.geoProjectionMutator(_n),o=t(n),i=o.stream;return o.lobes=function(r){return arguments.length?t(n=+r):n},o.stream=function(t){var u=o.rotate(),a=i(t),c=(o.rotate([0,0]),i(t));return o.rotate(u),a.sphere=function(){var t;r.geoStream((t=180/n,{type:"Polygon",coordinates:[e.range(-180,180+t/2,t).map(function(n,r){return[n,1&r?90-1e-6:Qn]}).concat(e.range(180,-180-t/2,-t).map(function(n,r){return[n,1&r?1e-6-90:-Qn]}))]}),c)},a},o.scale(239.75)},n.geoHealpixRaw=_n,n.geoHill=function(){var n=1,e=r.geoProjectionMutator(Kn),t=e(n);return t.ratio=function(r){return arguments.length?e(n=+r):n},t.scale(167.774).center([0,18.67])},n.geoHillRaw=Kn,n.geoHomolosine=function(){return r.geoProjection(Xn).scale(152.63)},n.geoHomolosineRaw=Xn,n.geoHyperelliptical=function(){var n=0,e=2.5,t=1.183136,o=r.geoProjectionMutator(Zn),i=o(n,e,t);return i.alpha=function(r){return arguments.length?o(n=+r,e,t):n},i.k=function(r){return arguments.length?o(n,e=+r,t):e},i.gamma=function(r){return arguments.length?o(n,e,t=+r):t},i.scale(152.63)},n.geoHyperellipticalRaw=Zn,n.geoInterrupt=rr,n.geoInterruptedBoggs=function(){return rr(J,er).scale(160.857)},n.geoInterruptedHomolosine=function(){return rr(Xn,tr).scale(152.63)},n.geoInterruptedMollweide=function(){return rr(K,or).scale(169.529)},n.geoInterruptedMollweideHemispheres=function(){return rr(K,ir).scale(169.529).rotate([20,0])},n.geoInterruptedSinuMollweide=function(){return rr(Jn,ur).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},n.geoInterruptedSinusoidal=function(){return rr(Y,ar).scale(152.63).rotate([-20,0])},n.geoKavrayskiy7=function(){return r.geoProjection(cr).scale(158.837)},n.geoKavrayskiy7Raw=cr,n.geoLagrange=function(){var n=.5,e=r.geoProjectionMutator(lr),t=e(n);return t.spacing=function(r){return arguments.length?e(n=+r):n},t.scale(124.75)},n.geoLagrangeRaw=lr,n.geoLarrivee=function(){return r.geoProjection(gr).scale(97.2672)},n.geoLarriveeRaw=gr,n.geoLaskowski=function(){return r.geoProjection(vr).scale(139.98)},n.geoLaskowskiRaw=vr,n.geoLittrow=function(){return r.geoProjection(sr).scale(144.049).clipAngle(89.999)},n.geoLittrowRaw=sr,n.geoLoximuthal=function(){return X(pr).parallel(40).scale(158.837)},n.geoLoximuthalRaw=pr,n.geoMiller=function(){return r.geoProjection(hr).scale(108.318)},n.geoMillerRaw=hr,n.geoModifiedStereographic=br,n.geoModifiedStereographicRaw=dr,n.geoModifiedStereographicAlaska=function(){return br(wr,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},n.geoModifiedStereographicGs48=function(){return br(yr,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},n.geoModifiedStereographicGs50=function(){return br(mr,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},n.geoModifiedStereographicMiller=function(){return br(Pr,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},n.geoModifiedStereographicLee=function(){return br(Rr,[165,10]).scale(250).clipAngle(130).center([-165,-10])},n.geoMollweide=function(){return r.geoProjection(K).scale(169.529)},n.geoMollweideRaw=K,n.geoMtFlatPolarParabolic=function(){return r.geoProjection(Er).scale(164.859)},n.geoMtFlatPolarParabolicRaw=Er,n.geoMtFlatPolarQuartic=function(){return r.geoProjection(Ar).scale(188.209)},n.geoMtFlatPolarQuarticRaw=Ar,n.geoMtFlatPolarSinusoidal=function(){return r.geoProjection(Sr).scale(166.518)},n.geoMtFlatPolarSinusoidalRaw=Sr,n.geoNaturalEarth2=function(){return r.geoProjection(kr).scale(175.295)},n.geoNaturalEarth2Raw=kr,n.geoNellHammer=function(){return r.geoProjection(xr).scale(152.63)},n.geoNellHammerRaw=xr,n.geoPatterson=function(){return r.geoProjection(Hr).scale(139.319)},n.geoPattersonRaw=Hr,n.geoPolyconic=function(){return r.geoProjection(Ir).scale(103.74)},n.geoPolyconicRaw=Ir,n.geoPolyhedral=Vr,n.geoPolyhedralButterfly=function(n){n=n||function(n){var e=r.geoCentroid({type:"MultiPoint",coordinates:n});return r.geoGnomonic().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=Ur.map(function(r){return{face:r,project:n(r)}});return[-1,0,0,1,0,1,4,5].forEach(function(n,r){var t=e[n];t&&(t.children||(t.children=[])).push(e[r])}),Vr(e[0],function(n,r){return e[n<-m/2?r<0?6:4:n<0?r<0?2:0:n<m/2?r<0?3:1:r<0?7:5]}).angle(-30).scale(101.858).center([0,45])},n.geoPolyhedralCollignon=function(n){n=n||function(n){var e=r.geoCentroid({type:"MultiPoint",coordinates:n});return r.geoProjection(Xr).translate([0,0]).scale(1).rotate(e[1]>0?[-e[0],0]:[180-e[0],180])};var e=Ur.map(function(r){return{face:r,project:n(r)}});return[-1,0,0,1,0,1,4,5].forEach(function(n,r){var t=e[n];t&&(t.children||(t.children=[])).push(e[r])}),Vr(e[0],function(n,r){return e[n<-m/2?r<0?6:4:n<0?r<0?2:0:n<m/2?r<0?3:1:r<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])},n.geoPolyhedralWaterman=function(n){n=n||function(n){var e=6===n.length?r.geoCentroid({type:"MultiPoint",coordinates:n}):n[0];return r.geoGnomonic().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=Ur.map(function(n){for(var r,e=n.map($r),t=e.length,o=e[t-1],i=[],u=0;u<t;++u)r=e[u],i.push(Zr([.9486832980505138*o[0]+.31622776601683794*r[0],.9486832980505138*o[1]+.31622776601683794*r[1],.9486832980505138*o[2]+.31622776601683794*r[2]]),Zr([.9486832980505138*r[0]+.31622776601683794*o[0],.9486832980505138*r[1]+.31622776601683794*o[1],.9486832980505138*r[2]+.31622776601683794*o[2]])),o=r;return i}),t=[],o=[-1,0,0,1,0,1,4,5];e.forEach(function(n,r){for(var i,u,a=Ur[r],c=a.length,l=t[r]=[],f=0;f<c;++f)e.push([a[f],n[(2*f+2)%(2*c)],n[(2*f+1)%(2*c)]]),o.push(r),l.push((i=$r(n[(2*f+2)%(2*c)]),u=$r(n[(2*f+1)%(2*c)]),[i[1]*u[2]-i[2]*u[1],i[2]*u[0]-i[0]*u[2],i[0]*u[1]-i[1]*u[0]]))});var i=e.map(function(r){return{project:n(r),face:r}});return o.forEach(function(n,r){var e=i[n];e&&(e.children||(e.children=[])).push(i[r])}),Vr(i[0],function(n,r){var e=u(r),o=[e*u(n),e*h(n),h(r)],a=n<-m/2?r<0?6:4:n<0?r<0?2:0:n<m/2?r<0?3:1:r<0?7:5,c=t[a];return i[Yr(c[0],o)<0?8+3*a:Yr(c[1],o)<0?8+3*a+1:Yr(c[2],o)<0?8+3*a+2:a]}).angle(-30).scale(110.625).center([0,45])},n.geoProject=function(n,r){var e,t=r.stream;if(!t)throw new Error("invalid projection");switch(n&&n.type){case"Feature":e=ee;break;case"FeatureCollection":e=re;break;default:e=te}return e(n,t)},n.geoGringortenQuincuncial=function(){return le(Bn).scale(176.423)},n.geoPeirceQuincuncial=fe,n.geoPierceQuincuncial=fe,n.geoQuantize=function(n,r){if(!(0<=(r=+r)&&r<=20))throw new Error("invalid digits");function e(n){var e=n.length,t=2,o=new Array(e);for(o[0]=+n[0].toFixed(r),o[1]=+n[1].toFixed(r);t<e;)o[t]=n[t],++t;return o}function t(n){return n.map(e)}function o(n){return n.map(t)}function i(n){if(null==n)return n;var r;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(i)};break;case"Point":r={type:"Point",coordinates:e(n.coordinates)};break;case"MultiPoint":case"LineString":r={type:n.type,coordinates:t(n.coordinates)};break;case"MultiLineString":case"Polygon":r={type:n.type,coordinates:o(n.coordinates)};break;case"MultiPolygon":r={type:"MultiPolygon",coordinates:n.coordinates.map(o)};break;default:return n}return null!=n.bbox&&(r.bbox=n.bbox),r}function u(n){var r={type:"Feature",properties:n.properties,geometry:i(n.geometry)};return null!=n.id&&(r.id=n.id),null!=n.bbox&&(r.bbox=n.bbox),r}if(null!=n)switch(n.type){case"Feature":return u(n);case"FeatureCollection":var a={type:"FeatureCollection",features:n.features.map(u)};return null!=n.bbox&&(a.bbox=n.bbox),a;default:return i(n)}return n},n.geoQuincuncial=le,n.geoRectangularPolyconic=function(){return X(ge).scale(131.215)},n.geoRectangularPolyconicRaw=ge,n.geoRobinson=function(){return r.geoProjection(se).scale(152.63)},n.geoRobinsonRaw=se,n.geoSatellite=function(){var n=2,e=0,t=r.geoProjectionMutator(pe),o=t(n,e);return o.distance=function(r){return arguments.length?t(n=+r,e):n},o.tilt=function(r){return arguments.length?t(n,e=r*S):e*A},o.scale(432.147).clipAngle(x(1/n)*A-1e-6)},n.geoSatelliteRaw=pe,n.geoSinuMollweide=function(){return r.geoProjection(Jn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},n.geoSinuMollweideRaw=Jn,n.geoSinusoidal=function(){return r.geoProjection(Y).scale(152.63)},n.geoSinusoidalRaw=Y,n.geoStitch=function(n){if(null==n)return n;switch(n.type){case"Feature":return Ge(n);case"FeatureCollection":var r={type:"FeatureCollection",features:n.features.map(Ge)};return null!=n.bbox&&(r.bbox=n.bbox),r;default:return Ce(n)}},n.geoTimes=function(){return r.geoProjection(ze).scale(146.153)},n.geoTimesRaw=ze,n.geoTwoPointAzimuthal=Le,n.geoTwoPointAzimuthalRaw=Ne,n.geoTwoPointAzimuthalUsa=function(){return Le([-158,21.5],[-77,39]).clipAngle(60).scale(400)},n.geoTwoPointEquidistant=Be,n.geoTwoPointEquidistantRaw=qe,n.geoTwoPointEquidistantUsa=function(){return Be([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},n.geoVanDerGrinten=function(){return r.geoProjection(He).scale(79.4183)},n.geoVanDerGrintenRaw=He,n.geoVanDerGrinten2=function(){return r.geoProjection(Ie).scale(79.4183)},n.geoVanDerGrinten2Raw=Ie,n.geoVanDerGrinten3=function(){return r.geoProjection(We).scale(79.4183)},n.geoVanDerGrinten3Raw=We,n.geoVanDerGrinten4=function(){return r.geoProjection(De).scale(127.16)},n.geoVanDerGrinten4Raw=De,n.geoWagner4=function(){return r.geoProjection(Ve).scale(176.84)},n.geoWagner4Raw=Ve,n.geoWagner6=function(){return r.geoProjection(_e).scale(152.63)},n.geoWagner6Raw=_e,n.geoWagner7=function(){return r.geoProjection(Ke).scale(172.632)},n.geoWagner7Raw=Ke,n.geoWiechel=function(){return r.geoProjection(Oe).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},n.geoWiechelRaw=Oe,n.geoWinkel3=function(){return r.geoProjection(Ue).scale(158.837)},n.geoWinkel3Raw=Ue,Object.defineProperty(n,"__esModule",{value:!0})});
